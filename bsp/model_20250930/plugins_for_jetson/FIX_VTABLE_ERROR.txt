================================================================================
           ğŸ”§ ä¿®å¤ vtable é”™è¯¯ï¼ˆç¼ºå°‘è™šå‡½æ•°å®ç°ï¼‰
================================================================================

é”™è¯¯ä¿¡æ¯:
undefined symbol: _ZTVN8nvinfer16plugin12ODConvPluginE

åŸå› :
ç±»ä¸­å£°æ˜äº†è™šå‡½æ•°ä½†æ²¡æœ‰å®ç°

================================================================================
                    å·²ä¿®å¤çš„æ–‡ä»¶
================================================================================

âœ… ODConvPlugin.cpp
-----------------------------------
æ·»åŠ äº† 2 ä¸ªç¼ºå¤±çš„å‡½æ•°:

1. ææ„å‡½æ•° (ç¬¬ 51-54 è¡Œ)
ODConvPlugin::~ODConvPlugin()
{
    terminate();
}

2. supportsFormatCombination (ç¬¬ 118-125 è¡Œ)
bool ODConvPlugin::supportsFormatCombination(
    int pos, const PluginTensorDesc* inOut, int nbInputs, int nbOutputs) noexcept
{
    const PluginTensorDesc& desc = inOut[pos];
    return (desc.type == DataType::kFLOAT || desc.type == DataType::kHALF) &&
           desc.format == TensorFormat::kLINEAR;
}
-----------------------------------

âœ… C2fEMAPlugin.cpp
-----------------------------------
æ·»åŠ äº† 2 ä¸ªç¼ºå¤±çš„å‡½æ•°:

1. ææ„å‡½æ•° (ç¬¬ 34-37 è¡Œ)
C2fEMAPlugin::~C2fEMAPlugin()
{
    terminate();
}

2. supportsFormatCombination (ç¬¬ 47-54 è¡Œ)
bool C2fEMAPlugin::supportsFormatCombination(
    int pos, const PluginTensorDesc* inOut, int nbInputs, int nbOutputs) noexcept
{
    const PluginTensorDesc& desc = inOut[pos];
    return (desc.type == DataType::kFLOAT || desc.type == DataType::kHALF) &&
           desc.format == TensorFormat::kLINEAR;
}
-----------------------------------

âœ… BiFPNConcatPlugin.cpp
å·²å®Œæ•´å®ç°ï¼Œæ— éœ€ä¿®æ”¹

âœ… DySamplePlugin.cpp
å·²å®Œæ•´å®ç°ï¼Œæ— éœ€ä¿®æ”¹

================================================================================
                    éœ€è¦ä¼ åˆ° Jetson çš„æ–‡ä»¶
================================================================================

åªéœ€è¦ä¼ è¾“ä¿®æ”¹åçš„ 2 ä¸ªæ–‡ä»¶:
- ODConvPlugin.cpp
- C2fEMAPlugin.cpp

================================================================================
                    åœ¨ Jetson ä¸Šé‡æ–°ç¼–è¯‘
================================================================================

1. ä¼ è¾“æ–‡ä»¶ (åœ¨ Windows ä¸Šæ‰§è¡Œ)
-----------------------------------
cd E:\BaiduNetdiskDownload\Network-YOLOv\ultralytics-8.2.0_test\bsp\model_20250930\plugins_for_jetson
scp ODConvPlugin.cpp C2fEMAPlugin.cpp aiot@192.168.31.220:~/tensorrt-alpha/mdb_yolo/plugins/
-----------------------------------

2. é‡æ–°ç¼–è¯‘æ’ä»¶åº“ (åœ¨ Jetson ä¸Šæ‰§è¡Œ)
-----------------------------------
cd ~/tensorrt-alpha/mdb_yolo/plugins/build
make clean
make -j$(nproc)
-----------------------------------

é¢„æœŸè¾“å‡º:
[100%] Linking CXX shared library libmdb_yolo_plugins.so
[100%] Built target mdb_yolo_plugins

3. æµ‹è¯•è¿è¡Œ
-----------------------------------
cd ~/tensorrt-alpha/yolov8/build
./app_yolov8 --model=../../data/yolov8/bestfp16.trt --size=640 --img=../../data/taro/8.jpg --show --savePath=../
-----------------------------------

é¢„æœŸè¾“å‡º:
[INFO] âœ… MDB-YOLO custom plugins loaded!
(æ²¡æœ‰ undefined symbol é”™è¯¯)

================================================================================
                    âœ… éªŒè¯æˆåŠŸæ ‡å¿—
================================================================================

âœ… æ²¡æœ‰ "undefined symbol" é”™è¯¯
âœ… çœ‹åˆ° "MDB-YOLO custom plugins loaded!"
âœ… ç¨‹åºèƒ½æ­£å¸¸åŠ è½½æ¨¡å‹

================================================================================
                    ğŸ“‹ å·²ä¿®å¤çš„æ‰€æœ‰é—®é¢˜æ€»ç»“
================================================================================

é—®é¢˜ 1: static æˆå‘˜å˜é‡æœªå®šä¹‰
- ä¿®å¤: åœ¨ ODConvPlugin.cpp å’Œ C2fEMAPlugin.cpp æ·»åŠ äº† mFC å’Œ mPluginAttributes çš„å®šä¹‰

é—®é¢˜ 2: è™šå‡½æ•°è¡¨é”™è¯¯ï¼ˆvtableï¼‰
- ä¿®å¤: åœ¨ ODConvPlugin.cpp å’Œ C2fEMAPlugin.cpp æ·»åŠ äº†:
  * ææ„å‡½æ•° ~XXXPlugin()
  * supportsFormatCombination() å‡½æ•°

æ‰€æœ‰æ’ä»¶ç°åœ¨åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼ğŸ‰

================================================================================




